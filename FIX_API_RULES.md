# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API Rules –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞

–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (`medical_specializations`, `content_goals`, `instagram_formats`, `months`) –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫—É 403 "Only superusers can perform this action" –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —á—Ç–µ–Ω–∏—è.

## –†–µ—à–µ–Ω–∏–µ

–ù—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å **API Rules** –¥–ª—è –≤—Å–µ—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π-—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤, —á—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø—É–±–ª–∏—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ.

---

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

–î–ª—è –∫–∞–∂–¥–æ–π –∏–∑ —ç—Ç–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π:
- `medical_specializations`
- `content_goals`
- `instagram_formats`
- `months`
- `health_calendar_events`

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Admin UI: https://pocketbase.processlabs.ru/_/
2. Collections ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `medical_specializations`)
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ (‚öôÔ∏è) —Å–ø—Ä–∞–≤–∞ –æ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏

### 2. –ò–∑–º–µ–Ω–∏—Ç–µ API Rules
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **API Rules** –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:

| –ü—Ä–∞–≤–∏–ª–æ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **List rule** | –û—Å—Ç–∞–≤—å—Ç–µ **–ø—É—Å—Ç—ã–º** (–∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Ç–µ–∫—Å—Ç) |
| **View rule** | –û—Å—Ç–∞–≤—å—Ç–µ **–ø—É—Å—Ç—ã–º** (–∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Ç–µ–∫—Å—Ç) |
| **Create rule** | `@request.auth.id != ""` |
| **Update rule** | `@request.auth.id != ""` |
| **Delete rule** | `@request.auth.id != ""` |

**–í–∞–∂–Ω–æ:** –ü–æ–ª—è List rule –∏ View rule –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—É—Å—Ç—ã–º–∏** (–±–µ–∑ —Ç–µ–∫—Å—Ç–∞)!

### 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
–ù–∞–∂–º–∏—Ç–µ **Save changes**

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã:

```bash
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π (–¥–∞–∂–µ –µ—Å–ª–∏ –ø—É—Å—Ç–æ–π)
curl -s "https://pocketbase.processlabs.ru/api/collections/medical_specializations/records" | jq .

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ —Ü–µ–ª–µ–π
curl -s "https://pocketbase.processlabs.ru/api/collections/content_goals/records" | jq .
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `{"page":1,"perPage":30,"totalItems":0,"totalPages":0,"items":[]}` - –æ—Ç–ª–∏—á–Ω–æ! –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ –¥–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω, –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç–∞—è.

---

## üéØ –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ

- **List rule = –ø—É—Å—Ç–æ** ‚Üí –õ—é–±–æ–π –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π (–¥–∞–∂–µ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- **View rule = –ø—É—Å—Ç–æ** ‚Üí –õ—é–±–æ–π –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –∑–∞–ø–∏—Å—å
- **Create/Update/Delete = `@request.auth.id != ""`** ‚Üí –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ **–¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ–π–¥–µ—Ç –≤ —Å–∏—Å—Ç–µ–º—É**, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ä–º.

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª –¥–æ—Å—Ç—É–ø–∞, –≤—ã —Å–º–æ–∂–µ—Ç–µ:
1. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Admin UI
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ
3. –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å –∑–∞–ø–∏—Å–∏
